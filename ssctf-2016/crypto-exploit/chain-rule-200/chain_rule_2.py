import re
import zipfile
 
next_file_names = ['start']
next_files_re = re.compile(' (?P<next>[0-9]{6})')
visited = []
commint = 0
 
pwds = zipfile.ZipFile("pwd.zip")
while len(next_file_names):
    file = next_file_names.pop(0)
    if file in visited:
        continue
    visited.append(file)
    f = pwds.open(file + '.txt')
    finfo = pwds.getinfo(file + '.txt')
    for l in f:
        if finfo.comment == b' ':
            commint = (commint << 1)
        elif finfo.comment == b'\t':
            commint = (commint << 1) + 1
        next_files_searched = next_files_re.findall(l.decode())
        for nf in next_files_searched:
            next_file_names.append(nf)
 
print(commint.to_bytes(721, byteorder='big'))
print(commint.to_bytes(721, byteorder='little'))
